To connect your **local Terraform** to your 
**Google Cloud Platform (GCP) environment**, you need to 
**authenticate Terraform with GCP credentials**. 
Here's how to do it securely and correctly:

---

### ✅ Step-by-Step Guide to Set Up GCP Credentials for Terraform

---

#### 🔹 **1. Create a Service Account in GCP (if needed)**

In the [GCP Console](https://console.cloud.google.com/):

1. Go to **IAM & Admin > Service Accounts**.
2. Click **Create Service Account**.
3. Give it a name like `terraform-admin`.
4. Assign roles such as:

   * `Editor` or more ideally:

     * `Compute Admin`
     * `Storage Admin`
     * `IAM Service Account Admin`
     * ...depending on what Terraform needs to manage.
5. Click **Create Key** → Choose **JSON** → Download the file.

---

#### 🔹 **2. Save the JSON Key File Locally**

Move the downloaded file to a safe location, like:

```bash
~/gcp-creds/terraform-key.json
```

---

#### 🔹 **3. Set the Environment Variable**

This is how Terraform authenticates locally:

```bash
export GOOGLE_APPLICATION_CREDENTIALS="$HOME/gcp-creds/terraform-key.json"
```

Add it to your `~/.bashrc`, `~/.zshrc`, or shell profile to make it permanent.

---

#### 🔹 **4. (Optional) Configure `provider` in Terraform**

Inside your Terraform code:

```hcl
provider "google" {
  project = "your-gcp-project-id"
  region  = "us-central1"
}
```

> If `GOOGLE_APPLICATION_CREDENTIALS` is set, you **don’t need to pass the credentials** explicitly in code (which is safer).

---

#### 🔹 **5. Test It**

Run:

```bash
terraform init
terraform plan
```

You should see Terraform connect and plan resources in your GCP environment.

---

### 🛡️ Best Practices

* **Never commit** the JSON key file to version control (add it to `.gitignore`).
* Use **limited-scoped roles** on the service account (principle of least privilege).
* If working in teams, consider using **Workload Identity Federation** instead of keys.

---

Would you like help with setting up **Workload Identity Federation** (no key file at all) or using **Terraform Cloud with GCP**?
